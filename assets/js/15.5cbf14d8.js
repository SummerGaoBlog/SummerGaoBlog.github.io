(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{108:function(s,a,e){"use strict";e.r(a);var t=e(2),n=Object(t.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"centos-用kerl安装及管理erlang"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#centos-用kerl安装及管理erlang"}},[s._v("#")]),s._v(" Centos 用Kerl安装及管理Erlang")]),s._v(" "),e("h2",{attrs:{id:"_1-安装依赖"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-安装依赖"}},[s._v("#")]),s._v(" 1.安装依赖")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("yum -y update\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("yum -y "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" \nyum -y "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" gcc \nyum -y "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" gcc-c++ \nyum -y "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" kernel-devel \nyum -y "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" m4 \nyum -y "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" ncurses-devel \nyum -y "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" openssl-devel \nyum -y "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rsync")]),s._v(" \nyum -y "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" perl-net-snmp \nyum -y "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" wx \nyum -y "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" fop \nyum -y "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" net-snmp \nyum -y "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" unixODBC \nyum -y "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" unixODBC-devel \nyum -y "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" lrzsz \nyum -y "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("bc")]),s._v(" \nyum -y "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" sysstat \nyum -y "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("lsof")]),s._v(" \nyum -y "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" \nyum -y "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" xz  \nyum -y "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" automake \nyum -y "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" autoconf\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br")])]),e("h2",{attrs:{id:"_2-安装kerl"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-安装kerl"}},[s._v("#")]),s._v(" 2.安装kerl")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("root@SummerGao:/home/summergao#\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("安装位置：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("cd /home/summergao/kerl\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("下载")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("curl -O https://raw.githubusercontent.com/kerl/kerl/master/kerl\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("修改执行权限")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("chmod a+x kerl\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"_3-配种环境变量"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-配种环境变量"}},[s._v("#")]),s._v(" 3.配种环境变量")]),s._v(" "),e("p",[s._v("Win10 CentOS子系统配置方式：")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" ~/.bashrc  \n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("在打开的文件末尾添加：")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("KERL_HOME")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/home/summergao/kerl\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${KERL_HOME}")]),s._v("/:"),e("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("使配置生效：")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" ~/.bashrc\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("原装CentOS配置方式")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/profile\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("在export PATH USER LOGNAME MAIL HOSTNAME HISTSIZE HISTCONTROL下面添加如下代码：")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("KERL_HOME")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/home/summergao/kerl\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${KERL_HOME}")]),s._v("/:"),e("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("使配置生效")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" /etc/profile\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("验证环境变量是否配置成功")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("kerl version \n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("[root"),e("a",{attrs:{href:"https://my.oschina.net/zhenggao",target:"_blank",rel:"noopener noreferrer"}},[s._v("@SummerGao"),e("OutboundLink")],1),s._v(" kerl]# kerl version"),e("br"),s._v("\n1.8.6"),e("br"),s._v("\n[root"),e("a",{attrs:{href:"https://my.oschina.net/zhenggao",target:"_blank",rel:"noopener noreferrer"}},[s._v("@SummerGao"),e("OutboundLink")],1),s._v(" kerl]#")]),s._v(" "),e("h2",{attrs:{id:"_4-从erlang官网更新版本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-从erlang官网更新版本"}},[s._v("#")]),s._v(" 4.从erlang官网更新版本")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("kerl update releases\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"_5-显示所有发布的版本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-显示所有发布的版本"}},[s._v("#")]),s._v(" 5.显示所有发布的版本")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("kerl list releases\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"_6-构建指定的版本（默认使用java编译，需要安装jdk及配置环境变量）"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-构建指定的版本（默认使用java编译，需要安装jdk及配置环境变量）"}},[s._v("#")]),s._v(" 6.构建指定的版本（默认使用Java编译，需要安装JDK及配置环境变量）")]),s._v(" "),e("p",[s._v("方式一、默认使用Java编译")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("kerl build "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("22.0")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("22.0")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("方式二、（取消java编译）使用gcc编译")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("KERL_CONFIGURE_OPTIONS")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("--without-javac kerl build "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("22.0")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("22.0")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("作为一个试验性功能, 还可以从git仓库构建")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("kerl build git https://github.com/erlang/otp.git dev 19.2_dev\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("构建需要一段时间建议耐心等待。")]),s._v(" "),e("p",[s._v("[root"),e("a",{attrs:{href:"https://my.oschina.net/zhenggao",target:"_blank",rel:"noopener noreferrer"}},[s._v("@SummerGao"),e("OutboundLink")],1),s._v(" builds]# kerl build 22.0 22.0"),e("br"),s._v("\nVerifying archive checksum..."),e("br"),s._v("\nChecksum verified (9842663e49f48e967c44b7574423f9e9)"),e("br"),s._v("\nExtracting source code"),e("br"),s._v("\nBuilding Erlang/OTP 22.0 (22.0), please wait..."),e("br"),s._v("\nAPPLICATIONS DISABLED (See: /root/.kerl/builds/22.0/otp_build_22.0.log)"),e("br"),s._v("\n * jinterface     : No Java compiler found")]),s._v(" "),e("p",[s._v("APPLICATIONS INFORMATION (See: /root/.kerl/builds/22.0/otp_build_22.0.log)"),e("br"),s._v("\n * wx             : wxWidgets not found, wx will NOT be usable")]),s._v(" "),e("p",[s._v("出现上面的信息则需要另开一个终端安装一下"),e("a",{attrs:{href:"https://my.oschina.net/zhenggao/blog/2243673",target:"_blank",rel:"noopener noreferrer"}},[s._v("JD"),e("OutboundLink")],1),e("a",{attrs:{href:"http://my.oschina.net/zhenggao/blog/2243673",target:"_blank",rel:"noopener noreferrer"}},[s._v("K"),e("OutboundLink")],1),s._v(" "),e("a",{attrs:{href:"https://my.oschina.net/zhenggao/blog/3093938",target:"_blank",rel:"noopener noreferrer"}},[s._v("JDK"),e("OutboundLink")],1)]),s._v(" "),e("p",[s._v("JDK安装成功后会提示：")]),s._v(" "),e("p",[s._v("Erlang/OTP 22.0 (22.0) has been successfully built")]),s._v(" "),e("blockquote",[e("p",[s._v("下载安装包可能很慢，为此可以使用迅雷先把安装包下载下来，比如安装22.0： 首先访问 "),e("a",{attrs:{href:"https://www.erlang.org/downloads/22.0",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.erlang.org/downloads/22.0"),e("OutboundLink")],1),s._v(" 找到 ："),e("a",{attrs:{href:"http://erlang.org/download/otp_src_22.0.tar.gz",target:"_blank",rel:"noopener noreferrer"}},[s._v("OTP 22.0 Source File "),e("OutboundLink")],1),s._v("(91806805) 右键复制链接地址到迅雷下载。下载完成之后复制（或上传）到 /root/.kerl/archives/ 目录下，重新执行第6步。")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://oscimg.oschina.net/oscnet/6241ab156951d44a474274386bbe5a87f1c.jpg",alt:""}})])]),s._v(" "),e("h2",{attrs:{id:"_7-显示已构建版本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_7-显示已构建版本"}},[s._v("#")]),s._v(" 7.显示已构建版本")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("kerl list builds\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("显示的结果由"),e("code",[s._v(",")]),s._v("号分隔, 第一列为"),e("code",[s._v("kerl list releases")]),s._v("命令中列出的版本号, 第二列为构建名称, 该构建名字可以被后续的"),e("code",[s._v("kerl install")]),s._v("命令使用.")]),s._v(" "),e("p",[s._v("[root"),e("a",{attrs:{href:"https://my.oschina.net/zhenggao",target:"_blank",rel:"noopener noreferrer"}},[s._v("@SummerGao"),e("OutboundLink")],1),s._v(" home]# kerl list builds"),e("br"),s._v("\n22.0,22.0"),e("br"),s._v("\n[root"),e("a",{attrs:{href:"https://my.oschina.net/zhenggao",target:"_blank",rel:"noopener noreferrer"}},[s._v("@SummerGao"),e("OutboundLink")],1),s._v(" home]#")]),s._v(" "),e("h2",{attrs:{id:"_8-显示状态"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_8-显示状态"}},[s._v("#")]),s._v(" 8.显示状态")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("kerl status\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("[root@SummerGao home]# kerl status"),e("br"),s._v("\nAvailable builds:"),e("br"),s._v("\n22.0,22.0"),e("br"),s._v("\n----------"),e("br"),s._v("\nAvailable installations:"),e("br"),s._v("\nThere are no installations available"),e("br"),s._v("\n----------"),e("br"),s._v("\nNo Erlang/OTP installation is currently active"),e("br"),s._v("\n[root@SummerGao home]#")]),s._v(" "),e("h2",{attrs:{id:"_9-安装特定版本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_9-安装特定版本"}},[s._v("#")]),s._v(" 9.安装特定版本")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("kerl "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("22.0")]),s._v(" ~/kerl/22.0\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("Installing Erlang/OTP 22.0 (22.0) in /root/kerl/22.0..."),e("br"),s._v("\nYou can activate this installation running the following command:"),e("br"),s._v("\n.  /root/kerl/22.0/activate"),e("br"),s._v("\nLater on, you can leave the installation typing:"),e("br"),s._v("\nkerl_deactivate")]),s._v(" "),e("p",[s._v("安装需要一段时间请耐心等待")]),s._v(" "),e("h2",{attrs:{id:"_10-显示已安装版本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_10-显示已安装版本"}},[s._v("#")]),s._v(" 10.显示已安装版本")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("kerl list installations\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"_11-激活特定版本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_11-激活特定版本"}},[s._v("#")]),s._v(" 11.激活特定版本")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" /root/kerl/22.0/activate\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("激活将备份您的$ PATH，并将其添加到安装的bin /目录中。因此，它仅对当前shell会话有效，直到您激活另一个安装或调用kerl_deactivate。")]),s._v(" "),e("h2",{attrs:{id:"_12-查看已激活的erlang版本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_12-查看已激活的erlang版本"}},[s._v("#")]),s._v(" 12.查看已激活的Erlang版本")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("kerl active\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("[root@SummerGao home]# kerl active"),e("br"),s._v("\nThe current active installation is:"),e("br"),s._v("\n/root/kerl/22.0"),e("br"),s._v("\n[root@SummerGao home]#")]),s._v(" "),e("h2",{attrs:{id:"_13-试运行erl"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_13-试运行erl"}},[s._v("#")]),s._v(" 13.试运行erl")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("erl\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("[root@SummerGao home]# erl"),e("br"),s._v("\nErlang/OTP 22 [erts-10.4] [source] [64-bit] [smp:4:4] [ds:4:4:10] [async-threads:1] [hipe]")]),s._v(" "),e("p",[s._v("Eshell V10.4  (abort with ^G)"),e("br"),s._v("\n1>")]),s._v(" "),e("h2",{attrs:{id:"拓展："}},[e("a",{staticClass:"header-anchor",attrs:{href:"#拓展："}},[s._v("#")]),s._v(" "),e("strong",[s._v("拓展：")])]),s._v(" "),e("h2",{attrs:{id:"_14-删除特定的构建"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_14-删除特定的构建"}},[s._v("#")]),s._v(" 14.删除特定的构建")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("kerl delete build "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("22.0")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"_13-配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_13-配置"}},[s._v("#")]),s._v(" 13.配置")]),s._v(" "),e("p",[s._v("你可以在命令行中执行构建的配置选项, 也可以在配置文件中进行配置")]),s._v(" "),e("h3",{attrs:{id:"①配置编译选项"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#①配置编译选项"}},[s._v("#")]),s._v(" ①配置编译选项")]),s._v(" "),e("p",[s._v("命令行通过编译参数指定, 如:")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("KERL_CONFIGURE_OPTIONS")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("--enable-hipe kerl build "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("22.0")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(".0_hipe\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("②配置文件在"),e("code",[s._v("$HOME/.kerlrc")]),s._v("指定")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# $HOME/.kerlrc")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("KERL_CONFIGURE_OPTIONS")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\\n--disable-debug \\\n--without-javac \\\n--enable-shared-zlib \\\n--enable-dynamic-ssl-lib \\\n--enable-hipe \\\n--enable-smp-support \\\n--enable-threads \\\n--enable-kernel-poll \\\n--with-wx"')]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br")])]),e("h3",{attrs:{id:"③配置应用程序"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#③配置应用程序"}},[s._v("#")]),s._v(" ③配置应用程序")]),s._v(" "),e("p",[s._v("构建一个最小的Erlang环境, 只包含"),e("code",[s._v("kernel")]),s._v(","),e("code",[s._v("stdlib")]),s._v(","),e("code",[s._v("sasl")]),s._v("三个应用程序")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('KERL_CONFIGURE_APPLICATIONS="kernel stdlib sasl" kerl build 22.0 22.0_minimal\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"④禁用应用程序"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#④禁用应用程序"}},[s._v("#")]),s._v(" ④禁用应用程序")]),s._v(" "),e("p",[s._v("在构建的Erlang环境中排除ODBC应用")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('KERL_CONFIGURE_DISABLE_APPLICATIONS="odbc" kerl build 22.0 22.0_no_odbc\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"⑤安装erlang"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#⑤安装erlang"}},[s._v("#")]),s._v(" ⑤安装Erlang")]),s._v(" "),e("p",[s._v("安装到指定的目录, 为了能够安装多个版本, 安装目录应该使用版本号进行标识")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("kerl install <build_name> <path>\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("例如")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("kerl install 22.0_hipe /tmp/erlang/22.0_hipe\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"_15-部署"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_15-部署"}},[s._v("#")]),s._v(" 15.部署")]),s._v(" "),e("p",[s._v("把指定Erlang构建版本部署到远程服务器上, 这样在一个集群中, 我们可以在一个服务器上编译, 统一部署所有的集群节点的 Erlang 运行环境.")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("kerl deploy <[user@]host> [directory] [remote_directory]\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("kerl deploy test@192.168.1.100 /deploy/erlang/22.0_hipe\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("blockquote",[e("p",[s._v("注意: "),e("br"),s._v("\n要配置公钥能让"),e("code",[s._v("ssh")]),s._v("直接无密码登陆远程服务器"),e("br"),s._v("\n把公钥添加到远程服务器的"),e("code",[s._v("$HOME/.ssh/authorized_key")]),s._v("文件中即可"),e("br"),s._v("\n本地默认公钥位置为"),e("code",[s._v("$HOME/.ssh/id_rsa.pub")])])]),s._v(" "),e("p",[e("strong",[s._v("更多配置请访问kerl官网：")]),e("a",{attrs:{href:"https://github.com/kerl/kerl",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/kerl/kerl"),e("OutboundLink")],1)]),s._v(" "),e("p",[e("strong",[s._v("参考：")]),e("a",{attrs:{href:"https://segmentfault.com/a/1190000004909357",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://segmentfault.com/a/1190000004909357"),e("OutboundLink")],1)]),s._v(" "),e("ClientOnly",[e("comment")],1)],1)}),[],!1,null,null,null);a.default=n.exports}}]);