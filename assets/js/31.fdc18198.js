(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{174:function(s,a,t){"use strict";t.r(a);var e=t(2),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"解决linux-buffer-cache内存占用过高的办法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#解决linux-buffer-cache内存占用过高的办法"}},[s._v("#")]),s._v(" 解决Linux buffer cache内存占用过高的办法")]),s._v(" "),t("h2",{attrs:{id:"_1-先查看postgresql源"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-先查看postgresql源"}},[s._v("#")]),s._v(" 1. 先查看postgresql源")]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("yum list "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" postgresql\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://oscimg.oschina.net/oscnet/up-134704fb75a15d20753ecce7f8eabc3fbc7.png",alt:""}})]),s._v(" "),t("h2",{attrs:{id:"_2-安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-安装"}},[s._v("#")]),s._v(" 2. 安装")]),s._v(" "),t("p",[s._v("我们需要安装的是这两个：postgresql-contrib.x86_64 postgresql-server.x86_64")]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" postgresql-contrib.x86_64 postgresql-server.x86_64 -y\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"_3-初始化数据库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-初始化数据库"}},[s._v("#")]),s._v(" 3. 初始化数据库")]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" postgresql-setup initdb\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://oscimg.oschina.net/oscnet/up-58b0cc6544fee34bbd409e0445d3fd0befc.png",alt:""}})]),s._v(" "),t("h2",{attrs:{id:"_4-启动postgresql服务，并配置为其能够在系统启动时启动"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-启动postgresql服务，并配置为其能够在系统启动时启动"}},[s._v("#")]),s._v(" 4. 启动PostgreSQL服务，并配置为其能够在系统启动时启动")]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" --now postgresql\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"_5-使用该psql工具通过连接到postgresql数据库服务器来验证安装并打印其版本"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-使用该psql工具通过连接到postgresql数据库服务器来验证安装并打印其版本"}},[s._v("#")]),s._v(" 5. 使用该"),t("code",[s._v("psql")]),s._v("工具通过连接到PostgreSQL数据库服务器来验证安装并打印其版本")]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" -u postgres psql -c "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"SELECT version();"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://oscimg.oschina.net/oscnet/up-4f7a6232f18f86596013c2b71a1310fb2d7.png",alt:""}})]),s._v(" "),t("h2",{attrs:{id:"_6-postgresql角色和验证方法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-postgresql角色和验证方法"}},[s._v("#")]),s._v(" 6. PostgreSQL角色和验证方法")]),s._v(" "),t("p",[s._v("PostgreSQL使用角色的概念来处理数据库访问权限。角色可以代表一个数据库用户或一组数据库用户。")]),s._v(" "),t("p",[s._v("PostgreSQL支持多种身份验证方法。最常用的方法是：")]),s._v(" "),t("ul",[t("li",[s._v("信任-只要符合定义的条件，角色就可以不使用密码进行连接"),t("code",[s._v("pg_hba.conf")]),s._v("。")]),s._v(" "),t("li",[s._v("密码-角色可以通过提供密码进行连接。密码可以存储为"),t("code",[s._v("scram-sha-256")]),s._v("，"),t("code",[s._v("md5")]),s._v("和"),t("code",[s._v("password")]),s._v("（明文）。")]),s._v(" "),t("li",[s._v("标识符-仅在TCP/IP连接上受支持。它通过获取客户端的操作系统用户名以及可选的用户名映射来工作。")]),s._v(" "),t("li",[s._v("对等-与Ident相同，但仅在本地连接上受支持。")])]),s._v(" "),t("p",[s._v("PostgreSQL客户端身份验证在名为"),t("code",[s._v("pg_hba.conf")]),s._v("的配置文件中定义。默认情况下，对于本地连接，PostgreSQL设置为使用对等身份验证方法。")]),s._v(" "),t("p",[s._v("在你安装PostgreSQL服务器过程中"),t("code",[s._v("postgres")]),s._v("用户会被自动创建。该用户是PostgreSQL实例的超级用户，你可以看成等效于MySQL的root用户。")]),s._v(" "),t("p",[s._v("要以"),t("code",[s._v("postgres")]),s._v("用户身份登录到PostgreSQL服务器，需要首先切换到该用户，然后运行"),t("code",[s._v("psql")]),s._v("命令程序访问PostgreSQL提示符：")]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v(" - postgres\npsql\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://oscimg.oschina.net/oscnet/up-a318c472d59752a5e36f0e56331beeceeb7.png",alt:""}})]),s._v(" "),t("p",[s._v("我们来设置密码：")]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("ALTER "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("USER")]),s._v(" postgres WITH PASSWORD "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'密码'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("从这里，可以与PostgreSQL实例进行交互。要退出PostgreSQL shell，请输入：")]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("q\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("还可以访问PostgreSQL提示符，而无需使用以下"),t("a",{attrs:{href:"https://linux265.com/news/3480.html",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("sudo")]),t("OutboundLink")],1),s._v("命令切换用户：")]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" -u postgres psql\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("通常，"),t("code",[s._v("postgres")]),s._v("仅从本地主机使用该用户。")]),s._v(" "),t("h2",{attrs:{id:"_7-创建postgresql角色和数据库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7-创建postgresql角色和数据库"}},[s._v("#")]),s._v(" 7.创建PostgreSQL角色和数据库")]),s._v(" "),t("p",[s._v("只有超级用户和具有"),t("code",[s._v("CREATEROLE")]),s._v("特权的角色才能创建新角色。")]),s._v(" "),t("p",[s._v("在以下示例中，我们将创建一个名为"),t("code",[s._v("zotonic")]),s._v("的新角色，一个名为"),t("code",[s._v("zotonic")]),s._v("的数据库，并授予该数据库的特权。")]),s._v(" "),t("p",[s._v("01、首先，连接到PostgreSQL shell：")]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" -u postgres psql\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("02、使用以下命令创建一个新的PostgreSQL角色：")]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("create role zotonic"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://oscimg.oschina.net/oscnet/up-9fb214280d878e9d5c011aea9cb846a046b.png",alt:""}})]),s._v(" "),t("p",[s._v("03、创建一个新的数据库：")]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("create database zotonic"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://oscimg.oschina.net/oscnet/up-7f857b0589a526155a6a85312f06ab223a9.png",alt:""}})]),s._v(" "),t("p",[s._v("04、通过运行以下查询，向数据库上的用户授予特权：")]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("grant all privileges on database zotonic to zotonic"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:""}},[t("a",{staticClass:"header-anchor",attrs:{href:"#"}},[s._v("#")]),s._v(" "),t("img",{attrs:{src:"https://oscimg.oschina.net/oscnet/up-294e3eae062a78c528749953f64ab638217.png",alt:""}})]),s._v(" "),t("h2",{attrs:{id:"_8-启用对postgresql服务器的远程访问"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_8-启用对postgresql服务器的远程访问"}},[s._v("#")]),s._v(" 8. 启用对PostgreSQL服务器的远程访问")]),s._v(" "),t("p",[s._v("默认情况下，PostgreSQL服务器仅供本地(127.0.0.1)访问。")]),s._v(" "),t("p",[s._v("要启用对PostgreSQL服务器的远程访问，请打开配置文件：")]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /var/lib/pgsql/data/postgresql.conf\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("在打开文件中找到"),t("code",[s._v("CONNECTIONS AND AUTHENTICATION")]),s._v("部分，然后添加/编辑以下行：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("#------------------------------------------------------------------------------\n# CONNECTIONS AND AUTHENTICATION\n#------------------------------------------------------------------------------\n\n# - Connection Settings -\n\nlisten_addresses = '*'     # what IP address(es) to listen on;\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://oscimg.oschina.net/oscnet/up-4fec743ae93b46483512a1d350ad987915f.png",alt:""}})]),s._v(" "),t("p",[s._v("保存文件，并使用以下命令重新启动PostgreSQL服务：")]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl restart postgresql\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("使用"),t("code",[s._v("ss")]),s._v("实用程序验证更改：")]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("ss -nlt "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5432")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("如果已经正常启动，会输出如下内容:")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://oscimg.oschina.net/oscnet/up-7bc451a5e567b5c931090e775cfa5afc2a3.png",alt:""}})]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("LISTEN   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("128")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:5432    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*       \nLISTEN   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("128")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("::"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(":5432      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("::"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(":*  \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("上面的输出显示PostgreSQL服务器正在所有接口（0.0.0.0）的默认端口上侦听。")]),s._v(" "),t("p",[s._v("最后一步是通过编辑"),t("code",[s._v("/var/lib/pgsql/data/pg_hba.conf")]),s._v("文件将服务器配置为接受远程连接。")]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /var/lib/pgsql/data/pg_hba.conf\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("修改前：")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://oscimg.oschina.net/oscnet/up-7bcb8fcc9513f1cc64039ecbd1ad5271f31.png",alt:""}})]),s._v(" "),t("p",[s._v("修改后：")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://oscimg.oschina.net/oscnet/up-592c4f047cebc4fbee112d05952eee18bd1.png",alt:""}})]),s._v(" "),t("p",[s._v("以下是一些显示不同用例的示例（可以参考）：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("# TYPE  DATABASE        USER            ADDRESS                 METHOD\n\n# The user zotonic can access all databases from all locations using an md5 password\nhost    all             zotonic            0.0.0.0/0                md5\n\n# The user zotonic can access only the zotonic database from all locations using an md5 password\nhost    zotonic          zotonic            0.0.0.0/0                md5\n\n# The user zotonic can access all databases from a trusted location (192.168.1.105) without a password\nhost    all             zotonic            192.168.1.105            trust\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("p",[s._v("重新启动PostgreSQL服务")]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl restart postgresql\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h1",{attrs:{id:"_9-第一次登陆忘记修改密码解决办法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_9-第一次登陆忘记修改密码解决办法"}},[s._v("#")]),s._v(" 9.第一次登陆忘记修改密码解决办法")]),s._v(" "),t("p",[s._v("1.编辑 vim /var/lib/pgsql/data/pg_hba.conf")]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /var/lib/pgsql/data/pg_hba.conf\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://oscimg.oschina.net/oscnet/up-46e749ecc223dbc83e5caed6444423130bb.png",alt:""}})]),s._v(" "),t("p",[s._v("2.重新启动PostgreSQL服务")]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl restart postgresql\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("3.连接到PostgreSQL shell")]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" -u postgres psql\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("4.修改密码")]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("ALTER "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("USER")]),s._v(" postgres WITH PASSWORD "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'密码'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://oscimg.oschina.net/oscnet/up-e25f442e85cffc5a708099867ff561bdea9.png",alt:""}})]),s._v(" "),t("h1",{attrs:{id:"_10-修改linux系统的postgres用户的密码（密码与数据库用户postgres的密码相同）"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_10-修改linux系统的postgres用户的密码（密码与数据库用户postgres的密码相同）"}},[s._v("#")]),s._v(" 10."),t("strong",[s._v("修改linux系统的postgres用户的密码（密码与数据库用户postgres的密码相同）")])]),s._v(" "),t("p",[s._v("1.删除PostgreSQL用户密码")]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("passwd")]),s._v(" -d postgres\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://oscimg.oschina.net/oscnet/up-337db9abe07c918b1a2ea76a1ea082bd327.png",alt:""}})]),s._v(" "),t("blockquote",[t("p",[s._v("passwd -d  是清空指定用户密码的意思")])]),s._v(" "),t("p",[s._v("2.设置PostgreSQL用户密码")]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" -u postgres "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("passwd")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://oscimg.oschina.net/oscnet/up-3a909cfb1bc77f7bedfb3e1204c78a3329c.png",alt:""}})])])}),[],!1,null,null,null);a.default=n.exports}}]);